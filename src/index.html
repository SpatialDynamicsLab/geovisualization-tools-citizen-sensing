<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>SCORE Sensors Visualisation</title>
        <link rel="stylesheet" href="/dist/style.css">
        <script src="https://cdn.plot.ly/plotly-2.24.1.min.js" charset="utf-8"></script>

    </head>
    

    <body class="bg-purple-900 text-center">
        
        <form id="query-form" class="flex flex-wrap w-screen ">

            <div class="flex basis-96">
                <p class="my-auto ml-4 mr-3 flex-shrink-0">Observed Property</p>
                <select id="property-select" class="my-4 px-4 basis-56 rounded">
                  <option value="-1">(All)</option>
                </select>
            </div>
            
            <div class="flex basis-52">
                <p class="my-auto ml-4 mr-3">CCLL</p>
                <select id="ccll-select" class="my-4 px-4 basis-36 rounded">
                   <option value="-1">(All)</option>
                </select>
            </div>
            
            <button class="m-4 py-2 px-4 bg-gray-200 font-medium rounded hover:bg-gray-300">Query</button>

        </form>
        

        <div id="map-wrapper" class="relative h-[1000px] max-h-[85vh] mx-2">
    
            <div id="map" class="z-0 h-full"></div>
        
            
            <div id="data-panel"
                class="absolute hidden z-30 top-0 right-0 flex-col basis-full items-center h-full w-5/12 min-w-[300px] overflow-x-hidden overflow-y-scroll bg-white bg-opacity-90 shadow-inner border border-gray-300">
                   
                    <div class="absolute top-0 right-0 flex-row-reverse">
                        <button id="back-button" class="m-1 px-2 py-1 text-xs bg-gray-200 rounded hover:bg-gray-300">Back</button>
                        <button id="data-panel-close-button" class="m-1 px-2 py-1 text-xs bg-gray-200 rounded hover:bg-gray-300">X</button>
                        
                    </div>
                    
                    

                    <div id="datastreams-selection-page" class="p-4 flex flex-col items-center">
                        <h2 class="py-4 text-center text-xl font-semibold">Datastreams</h2>
                        <div id="datastreams-buttons" class="p-4 flex flex-col items-center "></div>
                    </div>  
                        
                    
                    <div id="datastream-results-page" class="p-4 flex flex-col text-left">
                        
                        <h2 id="results-page-title" class="py-4 text-center text-xl font-semibold"></h2>
                        <div id="datastream-info" class="p-4 border border-gray-300 text-sm"></div>
                        
                        <form id="data-options-form" class="p-4 flex">
                            <p class="mx-4 text-sm">Number of observations to show:</p>

                            <select id="number-observations-select" class="mx-4 px-4 py-0.5 min-w-[50px] text-sm rounded">
                            </select>
                        
                            <!-- <button class="m-4 px-4 py-0.5 bg-gray-200 font-medium rounded hover:bg-gray-300">Ok</button> -->
                
                        </form>

                        <div id="data-panel-plot" class="self-center h-52 w-5/6 bg-white" ></div>

                        <button id="expand-button" class="m-auto px-4 py-0.5 bg-gray-200 font-medium rounded hover:bg-gray-300">Expand plot</button>
                    </div>

            </div>


            <div id="expanded-plot-panel" class="absolute hidden z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-[91.666667%] w-4/6 bg-white shadow-inner border border-gray-300">
                
                <button id="expanded-plot-panel-close-button" class="absolute top-0 right-0 m-1 px-2 py-1 text-xs bg-gray-200 rounded hover:bg-gray-300">X</button>
                
                <div id="expanded-plot-panel-plot" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-[91.666667%] w-5/6"></div>
                
            </div>
            
    
        </div>
        

    
    

        <!-- Scripts -->
        <script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js"
        integrity="sha256-o9N1jGDZrf5tS+Ft4gbIK7mYMipq9lqpVJ91xHSyKhg=" crossorigin=""></script>
        <script src="sensors_client.js"></script>
    
    </body>

</html>